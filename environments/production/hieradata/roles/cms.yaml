---
classes:
 - foodity-mysql
 - foodity-apache
 - foodity-java


##########################MYSQL####################

foodity-mysql::mysql::server::root_password: >
      ENC[PKCS7,MIIBeQYJKoZIhvcNAQcDoIIBajCCAWYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAAcxKNwLPdtGNJ0uGecuL+b5vFTYjuwYgbSbKgfuwBcrgtonHivvIQgb+PkMGYHttuVNmMrCZ9PIdzkd3czBEIB8TsmfO1FnhHLuuzimDBEGDl5QUOZmqbCwyGo07coRFohMHvz7Pwc9Eunr+wqrYx4vHOfE0I5P8o4AEoT6XeQv1mOCT5yHUzEjHgUIQqHkwQVhEltsS2pEHGnUm0cKRXZxiijtz5Z3oA8roBA6g16n0TaHtIVT2U+TdOdbrft4VX/u0uYBemb0xHibcb+JWwGrISMKa/xpnWUrV/TcHqAplltGzv5beMgR6LPArRrRSeTO/UCBH77o3kUlY22BeMTA8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBD3jeXI+IrdWpP87oblo84agBB3GycPnXlGcBO9rap/vewN]


foodity-mysql::mysql::server:
  databases:
    'service':
      user: 'service'
      password: 'changeme'
      charset: 'utf8'
      host: 'localhost'
      ensure: 'present'

foodity-mysql::mysql::server:
  users:
  'claudio@localhost':
    ensure: 'present'
    password_hash: '*7ACE763ED393514FE0C162B93996ECD195FFC4F5'


#############################APACHE#######################


apache_folders:
    '/var/www/service':
      path: '/var/www/service'
      ensure: 'directory'
      mode: '0664'
      owner: 'www-data'
      recurse: 'true'
    '/var/www/service/www':
      path: '/var/www/service/www'
      ensure: 'directory'
      mode: '0664'
      owner: 'www-data'
      recurse: 'true'
      require: "File[/var/www/service]"
    '/var/www/service/www/public':
      path: '/var/www/service/www/public'
      ensure: 'directory'
      mode: '0664'
      owner: 'www-data'
      recurse: 'true'
      require: "File[/var/www/service/www]"

apache_vhosts:
  'service':
    port: '80'
    servername: 'service.foodity.com'
    docroot: '/var/www/service/www/public'
    access_log: true
    access_log_file: 'access.log'
    access_log_format: 'combined'
    error_log: true
    error_log_file: 'error.log'
    options:
      - '-Indexes'
    php_admin_values:
      - 'open_basedir /var/www/service:/tmp'
      - 'upload_tmp_dir /var/www/service/tmp'
      - 'register_globals off'
    require: 'File[/var/www/service/www/public]'
