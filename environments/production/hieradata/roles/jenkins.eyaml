---

classes:
  - foodity-jenkins
  - foodity_php
  - foodity_mysql
  - foodity-postgresql
  - foodity-rabbitmq
  - foodity-nodejs
  - foodity_common
  - locales



locales::locales: [ 'en_US en_US.UTF-8', 'en_GB en_GB.UTF-8' ]

jenkins::repo:                false
jenkins::install_java:        false
jenkins::configure_firewall:  false

jenkins::slave::install_java: false
jenkins::slave::manage_slave_user: false
jenkins::slave::slave_user: 'jenkins'
jenkins::slave::slave_home: '/var/lib/jenkins'
jenkins::slave::enable:     true

foodity_php::with_mysql: true


#mysql::server::old_root_password: '*0A0662C40EED3D50185D767D84F57730CC7D149A'

mysql::server::root_password: ENC[PKCS7,MIIBeQYJKoZIhvcNAQcDoIIBajCCAWYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAgHPGKy9qfkIN0lmBMtNkCEIpzr2PNQ3ulF5CXhOx37Gz642c6RbnDoqUiRQXbPTvtZ6vjHLZ9i7wvhP39mei22N7CVw53QjNDY3y4/VUcWA8ly1x2tnzjw5sU5kt1JKzNiIemqNd/OXRiO28kSvImhglJMkvbCXHBmVhwzz6UTtT0Y7oO1NLRJIr7Ri6PwMsuNVGhRT/uEt8xEBXzcToxg51SmpTwuIZgylCaYhkzsS5oNPseRAvnNaoJ1IT4uWxdvlHUk/F1NPTfIhEG+EXUx5levpY2YIcG4OJ42ISqdeZI7GPV9GDCALdzLL2MDi3aT6CrGnwbGDmmL5wbh1uvTA8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBAyf8eLm0jHMznhcJqCizkzgBBMzn0jmGn4FBc/qiu0xI7E]


  
mysql::server::config_file: '/etc/mysql/my.cnf'
mysql::server::manage_config_file: true
  
mysql::server::databases:
    'service':
      charset: 'utf8'
      ensure: 'absent' 
 
mysql::server::users:
    'claudio@localhost':
      ensure: 'present'
      password_hash: '*7ACE763ED393514FE0C162B93996ECD195FFC4F5'
    'rms_test@localhost':
      ensure: 'present'
      password_hash: '*39784DB36DFC8A83DCC2898B08DA8248A31A6C93'
  
mysql::server::grants:
    'rms_test@localhost/rms_test_%.*':
      ensure: 'present'
      options: ['GRANT']
      privileges: ['ALL']
      table: '`rms_test\_%`.*'
      user: 'rms_test@localhost'

postgresql_roles:
  'jenkins':
    createrole: false
    superuser: false
    createdb: true

pg_hba_rules:
  'postgresql host authentication method':
    description: 'Open up postgresql for access from 127.0.0.1/32'
    type: 'host'
    database: 'all'
    user: 'all'
    address: '127.0.0.1/32'
    auth_method: 'trust'
    order: '021'

rabbitmq::service_manage: false
rabbitmq::port: '5672'
rabbitmq::delete_guest_user: true

rabbitmq_plugins:
  'rabbitmq_management':
    ensure: 'present'

common_users:
  
  jenkins:
    uid: 80001,
    comment: 'jenkins user'
    password: $1$V.L5ADcw$SY4xFBe1sFDSsb1ysG80O/
    home: '/var/lib/jenkins'
    managehome: false
    groups: jenkins
    ssh_auth_keys:
      jenkins-master:
         type: 'ssh-rsa' 
         key: 'AAAAB3NzaC1yc2EAAAADAQABAAABAQCl5KwLzwo9tq+AwViQM7CcIj3JDjOIDT4fsQCpPqiJ9X3GahMhLQbu6ie0ZPLhlEI+UXNap4cxYDHqEAten5mXMc8LW1FXqqMjEGTUYzPx04ywdfuy9Zz9CNtYoLjEks5+K4Bf+xp4FhxB9O9x6aSHMcsI3GtovQWojaXtzp9j7AN2CjDF54IcOFyvr/gY/7/s5GiuEYxbWUtnfg3gNU0r6/X+1gRj3o5Ek+6NE8Umu98Tcg4eUUXEZT33L3B10G4HZpEvY3c7r9Opfd5xSIqOIGKm+E8uxVWU32E0+tOiib9Q9e1Gu/QszeJluJtPP2OvhzQwCh6D5/61i8kfSqZH'


  ubuntu:
    ssh_auth_keys:
      dian-as-ubuntu:
         type: 'ssh-rsa'
         key: 'AAAAB3NzaC1yc2EAAAADAQABAAABAQC7SthVSTy9ody/zCGA+jrtkMTmVdh0y7QFh68rdsIP6se548+j/sSTJ14hGtq6GIcZNsr1Q5ruXb0WODYh16CiZbg3VZqKcbQqeEaowSu6DKueAkUWU12C4ovhcWgvlVLtF5WyEVsCOGEh6ApS3C95vDsKkEnR3SqXXrQwp8qOpKg88k0PzAI2vnpVx8JUMR9WRF1M3UWEKxlC+4NhD/fM+mQyZuO89h2iWdEnAgcMujbGSaXwO6Fd43FTrx5SPaiVLI3YxGz5iob+C2n50MuyDBVyP0pl88R6iNUMwkW5B6VV1h5IQQWXHXeozPHaGp87MBXBixqnHQ1VPxQtUlMx'


  dian:
    uid: 90007,
    comment: 'Dian Ivanov'
    password: $6$IgrUE5Q/fbd7s7dQ$IeZZ5OzSbUGZeMOGZqcgbebfrX29p1s/CtAsLm0Jb5OZLaVP.Tdm0toGr7gTOkzvIyf16FV3RDS.74mpWj5IG/
    groups: 'admin'
    manageruby: true
    ssh_auth_keys:
      dian-as-dian:
         type: 'ssh-rsa'
         key: 'AAAAB3NzaC1yc2EAAAADAQABAAABAQC7SthVSTy9ody/zCGA+jrtkMTmVdh0y7QFh68rdsIP6se548+j/sSTJ14hGtq6GIcZNsr1Q5ruXb0WODYh16CiZbg3VZqKcbQqeEaowSu6DKueAkUWU12C4ovhcWgvlVLtF5WyEVsCOGEh6ApS3C95vDsKkEnR3SqXXrQwp8qOpKg88k0PzAI2vnpVx8JUMR9WRF1M3UWEKxlC+4NhD/fM+mQyZuO89h2iWdEnAgcMujbGSaXwO6Fd43FTrx5SPaiVLI3YxGz5iob+C2n50MuyDBVyP0pl88R6iNUMwkW5B6VV1h5IQQWXHXeozPHaGp87MBXBixqnHQ1VPxQtUlMx'



software:
  'maven':
    ensure: 'latest'
  'git':
    ensure: 'latest'

php_software:
  php5-curl:
    ensure: latest
  php5-imagick:
    ensure: latest
  php5-xdebug:
    ensure: latest
  php5-mcrypt:
    ensure: latest
  php-pear:
    ensure: latest
  php5-sqlite:
    ensure: latest
  php5-intl:
    ensure: latest
  php5-mysql:
    ensure: latest

